{"ast":null,"code":"var _jsxFileName = \"/Users/sheng/Documents/GitHub/SDMSS/src/components/GlobalStore.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from 'react';\nimport Reducer from './Reducer';\nimport { reactLocalStorage } from 'reactjs-localstorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst localcheck = reactLocalStorage.getObject('REACTPROJ4');\nconst initialState = {\n  trans: []\n};\nif (Object.entries(localcheck).length > 0) {\n  initialState.trans = localcheck;\n}\nexport const GlobalContext = /*#__PURE__*/createContext(initialState);\nexport const GlobalStore = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(Reducer, initialState);\n  const createTask = tran => {\n    console.log('in create ', tran);\n    dispatch({\n      type: 'CREATE',\n      payload: tran\n    });\n  };\n  const updateTask = id => {\n    const temp = [...state.trans];\n    const i = temp.findIndex(tran => tran.id === id);\n    const status = temp[i].done;\n    temp[i].done = status ? false : true;\n    dispatch({\n      type: 'UPDATE',\n      payload: temp\n    });\n  };\n  const deleteTask = id => {\n    dispatch({\n      type: 'DELETE',\n      payload: id\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      trans: state.trans,\n      createTask,\n      updateTask,\n      deleteTask\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n_s(GlobalStore, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = GlobalStore;\nvar _c;\n$RefreshReg$(_c, \"GlobalStore\");","map":{"version":3,"names":["React","createContext","useReducer","Reducer","reactLocalStorage","localcheck","getObject","initialState","trans","Object","entries","length","GlobalContext","GlobalStore","children","state","dispatch","createTask","tran","console","log","type","payload","updateTask","id","temp","i","findIndex","status","done","deleteTask"],"sources":["/Users/sheng/Documents/GitHub/SDMSS/src/components/GlobalStore.js"],"sourcesContent":["import React, { createContext, useReducer  } from 'react';\r\n\r\nimport Reducer from './Reducer'; \r\n\r\nimport { reactLocalStorage } from 'reactjs-localstorage';\r\n\r\nconst localcheck = reactLocalStorage.getObject('REACTPROJ4');\r\n\r\nconst initialState = {\r\n    trans: []\r\n}\r\nif ( Object.entries( localcheck ).length > 0 ) {\r\n\r\n    initialState.trans = localcheck; \r\n}\r\n\r\n\r\nexport const GlobalContext = createContext( initialState );\r\n\r\nexport const GlobalStore = ( { children }  ) => {\r\n\r\n    const [state, dispatch] = useReducer( Reducer, initialState)\r\n\r\n    const createTask = ( tran ) => {\r\n\r\n        console.log('in create ', tran );\r\n\r\n        dispatch( {\r\n\r\n            type: 'CREATE', \r\n            payload: tran \r\n        } )\r\n    }\r\n\r\n    const updateTask = ( id ) => {\r\n\r\n        const temp = [ ...state.trans ];\r\n\r\n        const i = temp.findIndex( tran => tran.id === id );\r\n\r\n        const status = temp[i].done;\r\n\r\n        temp[i].done = status ? false : true; \r\n\r\n        dispatch ( { \r\n            type:'UPDATE',\r\n            payload: temp\r\n        }  )\r\n\r\n    }\r\n\r\n    const deleteTask = ( id ) => {\r\n\r\n        dispatch( {\r\n            type: 'DELETE',\r\n            payload: id \r\n        } )\r\n    }\r\n\r\n\r\n    return (\r\n        <GlobalContext.Provider   value= { { trans: state.trans, createTask, updateTask, deleteTask }  } >\r\n            { children }\r\n        </GlobalContext.Provider>\r\n    )\r\n}\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,QAAS,OAAO;AAEzD,OAAOC,OAAO,MAAM,WAAW;AAE/B,SAASC,iBAAiB,QAAQ,sBAAsB;AAAC;AAEzD,MAAMC,UAAU,GAAGD,iBAAiB,CAACE,SAAS,CAAC,YAAY,CAAC;AAE5D,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE;AACX,CAAC;AACD,IAAKC,MAAM,CAACC,OAAO,CAAEL,UAAU,CAAE,CAACM,MAAM,GAAG,CAAC,EAAG;EAE3CJ,YAAY,CAACC,KAAK,GAAGH,UAAU;AACnC;AAGA,OAAO,MAAMO,aAAa,gBAAGX,aAAa,CAAEM,YAAY,CAAE;AAE1D,OAAO,MAAMM,WAAW,GAAG,QAAqB;EAAA;EAAA,IAAnB;IAAEC;EAAS,CAAC;EAErC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,UAAU,CAAEC,OAAO,EAAEI,YAAY,CAAC;EAE5D,MAAMU,UAAU,GAAKC,IAAI,IAAM;IAE3BC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,IAAI,CAAE;IAEhCF,QAAQ,CAAE;MAENK,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAEJ;IACb,CAAC,CAAE;EACP,CAAC;EAED,MAAMK,UAAU,GAAKC,EAAE,IAAM;IAEzB,MAAMC,IAAI,GAAG,CAAE,GAAGV,KAAK,CAACP,KAAK,CAAE;IAE/B,MAAMkB,CAAC,GAAGD,IAAI,CAACE,SAAS,CAAET,IAAI,IAAIA,IAAI,CAACM,EAAE,KAAKA,EAAE,CAAE;IAElD,MAAMI,MAAM,GAAGH,IAAI,CAACC,CAAC,CAAC,CAACG,IAAI;IAE3BJ,IAAI,CAACC,CAAC,CAAC,CAACG,IAAI,GAAGD,MAAM,GAAG,KAAK,GAAG,IAAI;IAEpCZ,QAAQ,CAAG;MACPK,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAEG;IACb,CAAC,CAAG;EAER,CAAC;EAED,MAAMK,UAAU,GAAKN,EAAE,IAAM;IAEzBR,QAAQ,CAAE;MACNK,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAEE;IACb,CAAC,CAAE;EACP,CAAC;EAGD,oBACI,QAAC,aAAa,CAAC,QAAQ;IAAG,KAAK,EAAI;MAAEhB,KAAK,EAAEO,KAAK,CAACP,KAAK;MAAES,UAAU;MAAEM,UAAU;MAAEO;IAAW,CAAI;IAAA,UAC1FhB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACW;AAEjC,CAAC;AAAA,GA9CYD,WAAW;AAAA,KAAXA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}