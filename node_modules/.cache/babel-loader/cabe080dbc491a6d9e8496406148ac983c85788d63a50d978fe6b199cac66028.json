{"ast":null,"code":"var _jsxFileName = \"/Users/sheng/Documents/GitHub/SDMSS-2/SDMSS/src/Manager/view/UpdateMovie.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UpdateMovie(_ref) {\n  _s();\n  let {\n    data,\n    reload,\n    show,\n    handleClose\n  } = _ref;\n  console.log('data:', data);\n  const apiUrl_Movie = process.env.REACT_APP_API_URL_MOVIE;\n  const [formData, setFormData] = useState(data[0]);\n  const handleEdit = event => {\n    const {\n      id,\n      value\n    } = event.target;\n    setFormData(prevFormData => ({\n      ...prevFormData,\n      [id]: value\n    }));\n  };\n\n  //model\n  const updateMovie = async formData => {\n    await fetch(`${apiUrl_Movie}/Movie/${formData.id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    });\n    return true;\n  };\n\n  //controller\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = getFormData();\n    const state = await updateMovie(formData);\n    reload(state);\n    handleClose();\n  };\n\n  //view\n  const getFormData = () => {\n    return formData;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => handleSubmit(e),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              hmtlfor: \"id\",\n              class: \"col-form-label text-dark\",\n              children: \"id:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              disabled: true,\n              onChange: e => handleEdit(e),\n              value: formData.id,\n              class: \"form-control\",\n              id: \"id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              hmtlfor: \"Movie\",\n              class: \"col-form-label text-dark\",\n              children: \"Movie:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              class: \"form-control\",\n              onChange: e => handleEdit(e),\n              value: formData.Movie,\n              id: \"Movie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              hmtlfor: \"Duration\",\n              class: \"col-form-label text-dark\",\n              children: \"Duration:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              class: \"form-control\",\n              onChange: e => handleEdit(e),\n              value: formData.Duration,\n              id: \"Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              hmtlfor: \"Synopsis\",\n              class: \"col-form-label text-dark\",\n              children: \"Synopsis:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              class: \"form-control\",\n              onChange: e => handleEdit(e),\n              value: formData.Synopsis,\n              id: \"Synopsis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              hmtlfor: \"AgeRating\",\n              class: \"col-form-label text-dark\",\n              children: \"Age Rating:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              onChange: e => handleEdit(e),\n              value: formData.AgeRating,\n              id: \"AgeRating\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"PG-13\",\n                children: \"PG-13\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"PG\",\n                children: \"PG\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"R21\",\n                children: \"R21\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(UpdateMovie, \"Qf2UQeTpP7xNTFHv8wyGLgsnpv8=\");\n_c = UpdateMovie;\nexport default UpdateMovie;\nvar _c;\n$RefreshReg$(_c, \"UpdateMovie\");","map":{"version":3,"names":["useState","useEffect","Modal","Button","UpdateMovie","data","reload","show","handleClose","console","log","apiUrl_Movie","process","env","REACT_APP_API_URL_MOVIE","formData","setFormData","handleEdit","event","id","value","target","prevFormData","updateMovie","fetch","method","headers","body","JSON","stringify","handleSubmit","e","preventDefault","getFormData","state","Movie","Duration","Synopsis","AgeRating"],"sources":["/Users/sheng/Documents/GitHub/SDMSS-2/SDMSS/src/Manager/view/UpdateMovie.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nfunction UpdateMovie ({data, reload, show, handleClose}){ \n    console.log('data:', data);\n    const apiUrl_Movie = process.env.REACT_APP_API_URL_MOVIE;\n    const [formData, setFormData] = useState(data[0]);\n\n    const handleEdit = (event) => {\n      const { id, value } = event.target;\n      setFormData((prevFormData) => ({ ...prevFormData, [id]: value }));\n    };\n  \n    //model\n    const updateMovie = async (formData) => {\n       await fetch(`${apiUrl_Movie}/Movie/${formData.id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(formData),\n          })\n\n        return true;\n    }\n\n    //controller\n    const handleSubmit = async (e) => {\n      e.preventDefault();\n      const formData = getFormData();\n      const state = await updateMovie(formData)\n      reload(state)\n      handleClose()\n\n    \n    }\n\n\n    //view\n    const getFormData  = () => {\n        return formData\n    }\n\n    return(\n      <>\n        <Modal show={show} onHide={handleClose}>\n        <Modal.Body>\n        <form  onSubmit={(e) => handleSubmit(e)}>\n            <div class=\"form-group\">\n              <label hmtlfor=\"id\"  class=\"col-form-label text-dark\">id:</label>\n              <input type=\"text\" disabled onChange={(e) => handleEdit(e)}  value={formData.id} class=\"form-control\" id=\"id\"></input>\n            </div>\n            <div class=\"form-group\">\n              <label hmtlfor=\"Movie\" class=\"col-form-label text-dark\">Movie:</label>\n              <textarea class=\"form-control\" onChange={(e) => handleEdit(e)}  value={formData.Movie} id=\"Movie\"></textarea>\n            </div>\n            <div class=\"form-group\">\n              <label hmtlfor=\"Duration\" class=\"col-form-label text-dark\">Duration:</label>\n              <textarea class=\"form-control\" onChange={(e) => handleEdit(e)}   value={formData.Duration} id=\"Duration\"></textarea>\n            </div>\n            <div class=\"form-group\">\n              <label hmtlfor=\"Synopsis\" class=\"col-form-label text-dark\">Synopsis:</label>\n              <textarea class=\"form-control\" onChange={(e) => handleEdit(e)}   value={formData.Synopsis} id=\"Synopsis\"></textarea>\n            </div>\n            <div class=\"form-group\">\n              <label hmtlfor=\"AgeRating\" class=\"col-form-label text-dark\">Age Rating:</label>\n              <select className=\"form-select\" onChange={(e) => handleEdit(e)}   value={formData.AgeRating} id=\"AgeRating\">\n                    <option value=\"PG-13\">PG-13</option>\n                    <option value=\"PG\">PG</option>\n                    <option value=\"R21\">R21</option>\n              </select>\n            </div>\n            <button type=\"submit\">Update</button>\n          </form>\n          </Modal.Body>\n        </Modal>\n      </>\n    )\n  }\n  \n\nexport default UpdateMovie;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,KAAK,EAAEC,MAAM,QAAQ,iBAAiB;AAAC;AAAA;AAEhD,SAASC,WAAW,OAAoC;EAAA;EAAA,IAAlC;IAACC,IAAI;IAAEC,MAAM;IAAEC,IAAI;IAAEC;EAAW,CAAC;EACnDC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEL,IAAI,CAAC;EAC1B,MAAMM,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB;EACxD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC;EAEjD,MAAMY,UAAU,GAAIC,KAAK,IAAK;IAC5B,MAAM;MAAEC,EAAE;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IAClCL,WAAW,CAAEM,YAAY,KAAM;MAAE,GAAGA,YAAY;MAAE,CAACH,EAAE,GAAGC;IAAM,CAAC,CAAC,CAAC;EACnE,CAAC;;EAED;EACA,MAAMG,WAAW,GAAG,MAAOR,QAAQ,IAAK;IACrC,MAAMS,KAAK,CAAE,GAAEb,YAAa,UAASI,QAAQ,CAACI,EAAG,EAAC,EAAE;MAC/CM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACd,QAAQ;IAC/B,CAAC,CAAC;IAEJ,OAAO,IAAI;EACf,CAAC;;EAED;EACA,MAAMe,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMjB,QAAQ,GAAGkB,WAAW,EAAE;IAC9B,MAAMC,KAAK,GAAG,MAAMX,WAAW,CAACR,QAAQ,CAAC;IACzCT,MAAM,CAAC4B,KAAK,CAAC;IACb1B,WAAW,EAAE;EAGf,CAAC;;EAGD;EACA,MAAMyB,WAAW,GAAI,MAAM;IACvB,OAAOlB,QAAQ;EACnB,CAAC;EAED,oBACE;IAAA,uBACE,QAAC,KAAK;MAAC,IAAI,EAAER,IAAK;MAAC,MAAM,EAAEC,WAAY;MAAA,uBACvC,QAAC,KAAK,CAAC,IAAI;QAAA,uBACX;UAAO,QAAQ,EAAGuB,CAAC,IAAKD,YAAY,CAACC,CAAC,CAAE;UAAA,wBACpC;YAAK,KAAK,EAAC,YAAY;YAAA,wBACrB;cAAO,OAAO,EAAC,IAAI;cAAE,KAAK,EAAC,0BAA0B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAY,eACjE;cAAO,IAAI,EAAC,MAAM;cAAC,QAAQ;cAAC,QAAQ,EAAGA,CAAC,IAAKd,UAAU,CAACc,CAAC,CAAE;cAAE,KAAK,EAAEhB,QAAQ,CAACI,EAAG;cAAC,KAAK,EAAC,cAAc;cAAC,EAAE,EAAC;YAAI;cAAA;cAAA;cAAA;YAAA,QAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QAClH,eACN;YAAK,KAAK,EAAC,YAAY;YAAA,wBACrB;cAAO,OAAO,EAAC,OAAO;cAAC,KAAK,EAAC,0BAA0B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAe,eACtE;cAAU,KAAK,EAAC,cAAc;cAAC,QAAQ,EAAGY,CAAC,IAAKd,UAAU,CAACc,CAAC,CAAE;cAAE,KAAK,EAAEhB,QAAQ,CAACoB,KAAM;cAAC,EAAE,EAAC;YAAO;cAAA;cAAA;cAAA;YAAA,QAAY;UAAA;YAAA;YAAA;YAAA;UAAA,QACzG,eACN;YAAK,KAAK,EAAC,YAAY;YAAA,wBACrB;cAAO,OAAO,EAAC,UAAU;cAAC,KAAK,EAAC,0BAA0B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB,eAC5E;cAAU,KAAK,EAAC,cAAc;cAAC,QAAQ,EAAGJ,CAAC,IAAKd,UAAU,CAACc,CAAC,CAAE;cAAG,KAAK,EAAEhB,QAAQ,CAACqB,QAAS;cAAC,EAAE,EAAC;YAAU;cAAA;cAAA;cAAA;YAAA,QAAY;UAAA;YAAA;YAAA;YAAA;UAAA,QAChH,eACN;YAAK,KAAK,EAAC,YAAY;YAAA,wBACrB;cAAO,OAAO,EAAC,UAAU;cAAC,KAAK,EAAC,0BAA0B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB,eAC5E;cAAU,KAAK,EAAC,cAAc;cAAC,QAAQ,EAAGL,CAAC,IAAKd,UAAU,CAACc,CAAC,CAAE;cAAG,KAAK,EAAEhB,QAAQ,CAACsB,QAAS;cAAC,EAAE,EAAC;YAAU;cAAA;cAAA;cAAA;YAAA,QAAY;UAAA;YAAA;YAAA;YAAA;UAAA,QAChH,eACN;YAAK,KAAK,EAAC,YAAY;YAAA,wBACrB;cAAO,OAAO,EAAC,WAAW;cAAC,KAAK,EAAC,0BAA0B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAoB,eAC/E;cAAQ,SAAS,EAAC,aAAa;cAAC,QAAQ,EAAGN,CAAC,IAAKd,UAAU,CAACc,CAAC,CAAE;cAAG,KAAK,EAAEhB,QAAQ,CAACuB,SAAU;cAAC,EAAE,EAAC,WAAW;cAAA,wBACrG;gBAAQ,KAAK,EAAC,OAAO;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAe,eACpC;gBAAQ,KAAK,EAAC,IAAI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAY,eAC9B;gBAAQ,KAAK,EAAC,KAAK;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAa;YAAA;cAAA;cAAA;cAAA;YAAA,QAC7B;UAAA;YAAA;YAAA;YAAA;UAAA,QACL,eACN;YAAQ,IAAI,EAAC,QAAQ;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAgB;QAAA;UAAA;UAAA;UAAA;QAAA;MAChC;QAAA;QAAA;QAAA;MAAA;IACM;MAAA;MAAA;MAAA;IAAA;EACP,iBACP;AAEP;AAAC,GA3EMlC,WAAW;AAAA,KAAXA,WAAW;AA8EpB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}