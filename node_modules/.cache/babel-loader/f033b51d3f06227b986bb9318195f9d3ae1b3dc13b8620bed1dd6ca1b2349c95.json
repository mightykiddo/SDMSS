{"ast":null,"code":"var _jsxFileName = \"/Users/shijie/Documents/GitHub/SDMSS/src/components/SelectSeats.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SelectSeats = () => {\n  _s();\n  const [seats, setSeats] = useState([]);\n  const [selectedSeats, setSelectedSeats] = useState([]);\n  const [reset, setReset] = useState(false);\n  useEffect(() => {\n    fetch(\"http://localhost:2000/seats\").then(res => res.json()).then(data => setSeats(data.seats));\n  }, []);\n  const handleClick = seat => {\n    const isSelected = selectedSeats.includes(seat);\n    const seatObj = seats.find(s => s.seat === seat);\n    if (seatObj && seatObj.status === \"occupied\") {\n      console.log(\"This seat is not available for booking.\");\n      return;\n    }\n    if (isSelected) {\n      setSelectedSeats(selectedSeats.filter(s => s !== seat));\n    } else {\n      setSelectedSeats([...selectedSeats, seat]);\n    }\n  };\n  const handleReset = () => {\n    setSelectedSeats([]);\n    setReset(!reset);\n  };\n  const screenLoad = {\n    backgroundColor: \"#fff\",\n    height: \"70px\",\n    width: \"30%\",\n    margin: \"10px 0\",\n    boxShadow: \"0 3px 10px rgba(255, 255, 255, 0.75)\"\n  };\n  const getSeatColor = seat => {\n    const seatObj = seats.find(s => s.seat === seat);\n    if (selectedSeats.includes(seat)) {\n      return \"#00FFFF\"; // cyan\n    } else if (seatObj && (seatObj === null || seatObj === void 0 ? void 0 : seatObj.status) === \"occupied\") {\n      return \"#000000\"; // grey\n    } else if (seatObj) {\n      return \"#C0C0C0\"; // light grey\n    } else {\n      return \"#FFFFFF\"; // white\n    }\n  };\n\n  const renderSeat = seat => {\n    const row = seat[0];\n    const seatNumber = seat.slice(1);\n    const color = getSeatColor(seat);\n    const seatObj = seats.find(s => s.seat === seat);\n    return /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        value: seat,\n        onClick: () => handleClick(seat),\n        style: {\n          backgroundColor: color\n        },\n        children: [row, \" \", seatNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, seat, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [\"A1\", \"A2\", \"A3\"].map(renderSeat)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [\"B1\", \"B2\", \"B3\"].map(renderSeat)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [\"C1\", \"C2\", \"C3\"].map(renderSeat)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleReset,\n      children: \"Reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => console.log(selectedSeats),\n      children: \"Confirm Booking\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Selected seats: \", selectedSeats.join(\", \")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(SelectSeats, \"OS/Va/WgrO6kmUlEoO+89ZBYVYs=\");\n_c = SelectSeats;\nexport default SelectSeats;\nvar _c;\n$RefreshReg$(_c, \"SelectSeats\");","map":{"version":3,"names":["useEffect","useState","SelectSeats","seats","setSeats","selectedSeats","setSelectedSeats","reset","setReset","fetch","then","res","json","data","handleClick","seat","isSelected","includes","seatObj","find","s","status","console","log","filter","handleReset","screenLoad","backgroundColor","height","width","margin","boxShadow","getSeatColor","renderSeat","row","seatNumber","slice","color","map","join"],"sources":["/Users/shijie/Documents/GitHub/SDMSS/src/components/SelectSeats.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst SelectSeats = () => {\r\n  const [seats, setSeats] = useState([]);\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [reset, setReset] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:2000/seats\")\r\n      .then((res) => res.json())\r\n      .then((data) => setSeats(data.seats));\r\n  }, []);\r\n\r\n  const handleClick = (seat) => {\r\n    const isSelected = selectedSeats.includes(seat);\r\n    const seatObj = seats.find((s) => s.seat === seat);\r\n\r\n    if (seatObj && seatObj.status === \"occupied\") {\r\n      console.log(\"This seat is not available for booking.\");\r\n      return;\r\n    }\r\n\r\n    if (isSelected) {\r\n      setSelectedSeats(selectedSeats.filter((s) => s !== seat));\r\n    } else {\r\n      setSelectedSeats([...selectedSeats, seat]);\r\n    }\r\n  };\r\n  const handleReset = () => {\r\n    setSelectedSeats([]);\r\n    setReset(!reset);\r\n  };\r\n\r\n  const screenLoad = {\r\n    backgroundColor: \"#fff\",\r\n    height: \"70px\",\r\n    width: \"30%\",\r\n    margin: \"10px 0\",\r\n    boxShadow: \"0 3px 10px rgba(255, 255, 255, 0.75)\",\r\n  };\r\n  const getSeatColor = (seat) => {\r\n    const seatObj = seats.find((s) => s.seat === seat);\r\n    if (selectedSeats.includes(seat)) {\r\n      return \"#00FFFF\"; // cyan\r\n    } else if (seatObj && seatObj?.status === \"occupied\") {\r\n      return \"#000000\"; // grey\r\n    } else if (seatObj) {\r\n      return \"#C0C0C0\"; // light grey\r\n    } else {\r\n      return \"#FFFFFF\"; // white\r\n    }\r\n  };\r\n\r\n  const renderSeat = (seat) => {\r\n    const row = seat[0];\r\n    const seatNumber = seat.slice(1);\r\n    const color = getSeatColor(seat);\r\n\r\n    const seatObj = seats.find((s) => s.seat === seat);\r\n\r\n    return (\r\n      <td key={seat}>\r\n        <button\r\n          value={seat}\r\n          onClick={() => handleClick(seat)}\r\n          style={{ backgroundColor: color }}\r\n        >\r\n          {row} {seatNumber}\r\n        </button>\r\n      </td>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <table>\r\n        <tbody>\r\n          <tr></tr>\r\n          <tr>{[\"A1\", \"A2\", \"A3\"].map(renderSeat)}</tr>\r\n          <tr>{[\"B1\", \"B2\", \"B3\"].map(renderSeat)}</tr>\r\n          <tr>{[\"C1\", \"C2\", \"C3\"].map(renderSeat)}</tr>\r\n        </tbody>\r\n      </table>\r\n      <button onClick={handleReset}>Reset</button>\r\n      <button onClick={() => console.log(selectedSeats)}>\r\n        Confirm Booking\r\n      </button>\r\n      <p>Selected seats: {selectedSeats.join(\", \")}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectSeats;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}