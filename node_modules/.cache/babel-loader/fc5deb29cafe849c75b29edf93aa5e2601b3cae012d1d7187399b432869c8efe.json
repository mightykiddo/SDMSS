{"ast":null,"code":"var _jsxFileName = \"D:\\\\314project\\\\SDMSS2\\\\SDMSS\\\\src\\\\SystemAdmin\\\\View\\\\SuspendUserProfile.jsx\";\nimport { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SuspendUserProfile = _ref => {\n  let {\n    type,\n    data,\n    reload,\n    show,\n    handleClose\n  } = _ref;\n  const apiUrl_UserProf = process.env.REACT_APP_API_URL_USEPROFILE;\n\n  //modal\n  const updateStatus = async (data, type) => {\n    fetch(`${apiUrl_UserProf}/userprofile/${data[0].id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        ...data[0],\n        status: type\n      })\n    }).then(response => response.json());\n  };\n\n  //controller\n  const handleSuspend = e => {\n    const data = getFormData(); //get from view\n    if (type === \"unsuspend\") {\n      updateStatus(data, \"Active\") //call model\n      .then(() => reload(\"reload\"));\n      handleClose().catch(error => console.error(error));\n    } else if (type === \"suspend\") {\n      updateStatus(data, \"Suspended\") //call model\n      .then(() => reload(\"reload\"));\n      handleClose().catch(error => console.error(error));\n    }\n  };\n  const getFormData = () => {\n    return data;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"text-black\",\n        children: \"Confirm Suspend User Profile?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: e => handleSuspend(e),\n          children: \"Yes \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_c = SuspendUserProfile;\nexport default SuspendUserProfile;\nvar _c;\n$RefreshReg$(_c, \"SuspendUserProfile\");","map":{"version":3,"names":["useState","useEffect","Modal","Button","SuspendUserProfile","type","data","reload","show","handleClose","apiUrl_UserProf","process","env","REACT_APP_API_URL_USEPROFILE","updateStatus","fetch","id","method","headers","body","JSON","stringify","status","then","response","json","handleSuspend","e","getFormData","catch","error","console"],"sources":["D:/314project/SDMSS2/SDMSS/src/SystemAdmin/View/SuspendUserProfile.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nconst SuspendUserProfile = ({type, data, reload, show , handleClose}) => {\r\n\r\n    const apiUrl_UserProf = process.env.REACT_APP_API_URL_USEPROFILE;\r\n\r\n    //modal\r\n      const updateStatus = async(data, type) => {\r\n        fetch(`${apiUrl_UserProf}/userprofile/${data[0].id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify( {...data[0], status :type}),\r\n        })\r\n          .then(response => response.json())\r\n      }\r\n      \r\n      //controller\r\n        const handleSuspend = (e) =>{\r\n          const data = getFormData(); //get from view\r\n          if (type === \"unsuspend\"){\r\n            updateStatus(data, \"Active\") //call model\r\n              .then(() => \r\n                reload(\"reload\"))\r\n                handleClose()\r\n              .catch(error => console.error(error))\r\n      \r\n          }\r\n          else if (type === \"suspend\") {\r\n            updateStatus(data, \"Suspended\") //call model\r\n              .then(() => \r\n                reload(\"reload\"))\r\n                handleClose()\r\n              .catch(error => console.error(error))\r\n          }\r\n        } \r\n\r\n    const getFormData = () => {\r\n          return data\r\n      }\r\n    return (\r\n      <>\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Body className=\"text-black\">\r\n            Confirm Suspend User Profile?\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant = \"secondary\" onClick={(e) => handleSuspend(e)}>\r\n              Yes {/*handle Delete / update */}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    )\r\n}\r\n \r\nexport default SuspendUserProfile;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,KAAK,EAAEC,MAAM,QAAQ,iBAAiB;AAAC;AAAA;AAEhD,MAAMC,kBAAkB,GAAG,QAA8C;EAAA,IAA7C;IAACC,IAAI;IAAEC,IAAI;IAAEC,MAAM;IAAEC,IAAI;IAAGC;EAAW,CAAC;EAEhE,MAAMC,eAAe,GAAGC,OAAO,CAACC,GAAG,CAACC,4BAA4B;;EAEhE;EACE,MAAMC,YAAY,GAAG,OAAMR,IAAI,EAAED,IAAI,KAAK;IACxCU,KAAK,CAAE,GAAEL,eAAgB,gBAAeJ,IAAI,CAAC,CAAC,CAAC,CAACU,EAAG,EAAC,EAAE;MACpDC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAE;QAAC,GAAGf,IAAI,CAAC,CAAC,CAAC;QAAEgB,MAAM,EAAEjB;MAAI,CAAC;IAClD,CAAC,CAAC,CACCkB,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC;EACtC,CAAC;;EAED;EACE,MAAMC,aAAa,GAAIC,CAAC,IAAI;IAC1B,MAAMrB,IAAI,GAAGsB,WAAW,EAAE,CAAC,CAAC;IAC5B,IAAIvB,IAAI,KAAK,WAAW,EAAC;MACvBS,YAAY,CAACR,IAAI,EAAE,QAAQ,CAAC,CAAC;MAAA,CAC1BiB,IAAI,CAAC,MACJhB,MAAM,CAAC,QAAQ,CAAC,CAAC;MACjBE,WAAW,EAAE,CACdoB,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;IAEzC,CAAC,MACI,IAAIzB,IAAI,KAAK,SAAS,EAAE;MAC3BS,YAAY,CAACR,IAAI,EAAE,WAAW,CAAC,CAAC;MAAA,CAC7BiB,IAAI,CAAC,MACJhB,MAAM,CAAC,QAAQ,CAAC,CAAC;MACjBE,WAAW,EAAE,CACdoB,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;IACzC;EACF,CAAC;EAEL,MAAMF,WAAW,GAAG,MAAM;IACpB,OAAOtB,IAAI;EACf,CAAC;EACH,oBACE;IAAA,uBACE,QAAC,KAAK;MAAC,IAAI,EAAEE,IAAK;MAAC,MAAM,EAAEC,WAAY;MAAA,wBACrC,QAAC,KAAK,CAAC,IAAI;QAAC,SAAS,EAAC,YAAY;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAErB,eACb,QAAC,KAAK,CAAC,MAAM;QAAA,uBACX,QAAC,MAAM;UAAC,OAAO,EAAG,WAAW;UAAC,OAAO,EAAGkB,CAAC,IAAKD,aAAa,CAACC,CAAC,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAEtD;QAAA;QAAA;QAAA;MAAA,QACI;IAAA;MAAA;MAAA;MAAA;IAAA;EACT,iBACP;AAET,CAAC;AAAA,KArDKvB,kBAAkB;AAuDxB,eAAeA,kBAAkB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}