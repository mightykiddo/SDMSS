{"ast":null,"code":"var _jsxFileName = \"D:\\\\314project\\\\SDMSS2\\\\SDMSS\\\\src\\\\SystemAdmin\\\\View\\\\SuspendUserAccount,.jsx\";\nimport { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SuspendUserAccount = _ref => {\n  let {\n    type,\n    data,\n    reload,\n    show,\n    handleClose\n  } = _ref;\n  const apiUrl_User = process.env.REACT_APP_API_URL_USERACC;\n  const updateStatus = async (data, type) => {\n    await fetch(`${apiUrl_User}/user/${data[0].id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        ...data[0],\n        status: type\n      })\n    });\n  };\n  const handleSuspend = async e => {\n    e.preventDefault();\n    const data = getFormData();\n    if (type === \"unsuspend\") {\n      await updateStatus(data, 'Active'); //call model\n      reload(\"reload\");\n      handleClose();\n    } else if (type === \"suspend\") {\n      await updateStatus(data, 'Suspended'); //call model\n      reload(\"reload\");\n      handleClose();\n      updateStatus(data, \"Suspended\"); //call model\n      reload(\"reload\");\n      handleClose();\n    }\n  };\n\n  //view function\n  const getFormData = () => {\n    return data;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"text-dark\",\n        children: type === \"suspend\" ? \"Confirm Suspend User ?\" : \"Confirm Unsuspend User ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: e => handleSuspend(e),\n          children: \"Yes \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_c = SuspendUserAccount;\nexport default SuspendUserAccount;\nvar _c;\n$RefreshReg$(_c, \"SuspendUserAccount\");","map":{"version":3,"names":["useState","useEffect","Modal","Button","SuspendUserAccount","type","data","reload","show","handleClose","apiUrl_User","process","env","REACT_APP_API_URL_USERACC","updateStatus","fetch","id","method","headers","body","JSON","stringify","status","handleSuspend","e","preventDefault","getFormData"],"sources":["D:/314project/SDMSS2/SDMSS/src/SystemAdmin/View/SuspendUserAccount,.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nconst SuspendUserAccount = ({type, data, reload, show , handleClose}) => {\r\n    const apiUrl_User = process.env.REACT_APP_API_URL_USERACC;\r\n  \r\n    const updateStatus = async (data, type) => {\r\n      await fetch(`${apiUrl_User}/user/${data[0].id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify( {...data[0], status : type}),\r\n      })\r\n    }\r\n  \r\n  \r\n    const handleSuspend = async (e) =>{\r\n      e.preventDefault();\r\n      const data = getFormData();\r\n      if (type === \"unsuspend\"){\r\n        await updateStatus(data, 'Active')//call model\r\n        reload(\"reload\")\r\n        handleClose()\r\n      }\r\n      else if (type === \"suspend\") {\r\n        await updateStatus(data, 'Suspended')//call model\r\n        reload(\"reload\")\r\n        handleClose()\r\n        updateStatus(data, \"Suspended\") //call model\r\n        reload(\"reload\")\r\n        handleClose()\r\n      }\r\n    } \r\n  \r\n    //view function\r\n    const getFormData = () => {\r\n        return data\r\n    }\r\n      \r\n    return(\r\n      <>\r\n      <Modal show={show} onHide={handleClose}>\r\n       <Modal.Body className=\"text-dark\">\r\n            {type === \"suspend\" ?  \"Confirm Suspend User ?\" : \"Confirm Unsuspend User ?\"}\r\n       </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={(e) => handleSuspend(e)}>\r\n            Yes {/*handle delete/update*/}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default SuspendUserAccount;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,KAAK,EAAEC,MAAM,QAAQ,iBAAiB;AAAC;AAAA;AAEhD,MAAMC,kBAAkB,GAAG,QAA8C;EAAA,IAA7C;IAACC,IAAI;IAAEC,IAAI;IAAEC,MAAM;IAAEC,IAAI;IAAGC;EAAW,CAAC;EAChE,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB;EAEzD,MAAMC,YAAY,GAAG,OAAOR,IAAI,EAAED,IAAI,KAAK;IACzC,MAAMU,KAAK,CAAE,GAAEL,WAAY,SAAQJ,IAAI,CAAC,CAAC,CAAC,CAACU,EAAG,EAAC,EAAE;MAC/CC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAE;QAAC,GAAGf,IAAI,CAAC,CAAC,CAAC;QAAEgB,MAAM,EAAGjB;MAAI,CAAC;IACnD,CAAC,CAAC;EACJ,CAAC;EAGD,MAAMkB,aAAa,GAAG,MAAOC,CAAC,IAAI;IAChCA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMnB,IAAI,GAAGoB,WAAW,EAAE;IAC1B,IAAIrB,IAAI,KAAK,WAAW,EAAC;MACvB,MAAMS,YAAY,CAACR,IAAI,EAAE,QAAQ,CAAC;MAClCC,MAAM,CAAC,QAAQ,CAAC;MAChBE,WAAW,EAAE;IACf,CAAC,MACI,IAAIJ,IAAI,KAAK,SAAS,EAAE;MAC3B,MAAMS,YAAY,CAACR,IAAI,EAAE,WAAW,CAAC;MACrCC,MAAM,CAAC,QAAQ,CAAC;MAChBE,WAAW,EAAE;MACbK,YAAY,CAACR,IAAI,EAAE,WAAW,CAAC,EAAC;MAChCC,MAAM,CAAC,QAAQ,CAAC;MAChBE,WAAW,EAAE;IACf;EACF,CAAC;;EAED;EACA,MAAMiB,WAAW,GAAG,MAAM;IACtB,OAAOpB,IAAI;EACf,CAAC;EAED,oBACE;IAAA,uBACA,QAAC,KAAK;MAAC,IAAI,EAAEE,IAAK;MAAC,MAAM,EAAEC,WAAY;MAAA,wBACtC,QAAC,KAAK,CAAC,IAAI;QAAC,SAAS,EAAC,WAAW;QAAA,UAC3BJ,IAAI,KAAK,SAAS,GAAI,wBAAwB,GAAG;MAA0B;QAAA;QAAA;QAAA;MAAA,QACpE,eACZ,QAAC,KAAK,CAAC,MAAM;QAAA,uBACX,QAAC,MAAM;UAAC,OAAO,EAAC,WAAW;UAAC,OAAO,EAAGmB,CAAC,IAAKD,aAAa,CAACC,CAAC,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAEpD;QAAA;QAAA;QAAA;MAAA,QACI;IAAA;MAAA;MAAA;MAAA;IAAA;EACT,iBACL;AAEP,CAAC;AAAA,KAnDGpB,kBAAkB;AAqDxB,eAAeA,kBAAkB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}