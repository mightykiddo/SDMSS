{"ast":null,"code":"var _jsxFileName = \"/Users/sheng/Documents/GitHub/SDMSS-2/SDMSS/src/Manager/view/UpdateRoom.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UpdateRoom = _ref => {\n  _s();\n  let {\n    data,\n    reload,\n    show,\n    handleClose\n  } = _ref;\n  const apiUrl_Room = process.env.REACT_APP_API_URL_ROOM;\n  const [formData, setFormData] = useState(data[0]);\n\n  //model\n  const updateRoom = async formData => {\n    await fetch(`${apiUrl_Room}/Room/${formData.id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    }).then(response => response.json());\n  };\n\n  //controller\n  const handleEdit = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setFormData(prevFormData => ({\n      ...prevFormData,\n      [id]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = getFormData();\n    await updateRoom(formData); //call model\n    reload(\"re-load parent\");\n    handleClose();\n  };\n  const getFormData = () => {\n    return formData;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => handleSubmit(e),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              hmtlfor: \"Name\",\n              class: \"col-form-label text-dark\",\n              children: \"Room Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: e => handleEdit(e),\n              value: formData.Name,\n              class: \"form-control\",\n              id: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(UpdateRoom, \"Qf2UQeTpP7xNTFHv8wyGLgsnpv8=\");\n_c = UpdateRoom;\nexport default UpdateRoom;\nvar _c;\n$RefreshReg$(_c, \"UpdateRoom\");","map":{"version":3,"names":["useState","useEffect","Modal","Button","UpdateRoom","data","reload","show","handleClose","apiUrl_Room","process","env","REACT_APP_API_URL_ROOM","formData","setFormData","updateRoom","fetch","id","method","headers","body","JSON","stringify","then","response","json","handleEdit","e","value","target","prevFormData","handleSubmit","preventDefault","getFormData","Name"],"sources":["/Users/sheng/Documents/GitHub/SDMSS-2/SDMSS/src/Manager/view/UpdateRoom.jsx"],"sourcesContent":["import { useState, useEffect} from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nconst UpdateRoom = ({data, reload, show, handleClose}) => {\n    const apiUrl_Room = process.env.REACT_APP_API_URL_ROOM;\n    const [formData, setFormData] = useState(data[0]);\n  \n    //model\n    const updateRoom = async(formData) =>{\n        await fetch(`${apiUrl_Room}/Room/${formData.id}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(formData),\n        })\n        .then((response) => response.json())\n        \n    }\n\n    //controller\n    const handleEdit = (e) => {\n      const { id, value } = e.target;\n      setFormData((prevFormData) => ({ ...prevFormData, [id]: value }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const formData = getFormData();\n        await updateRoom(formData)//call model\n        reload(\"re-load parent\")\n        handleClose();\n    }\n\n    const getFormData = () => {\n        return formData\n    }\n    return(\n      <>\n        <Modal show={show} onHide={handleClose}>\n        <Modal.Body>\n        <form  onSubmit={(e) => handleSubmit(e)}>\n            <div class=\"form-group\">\n              <label hmtlfor=\"Name\"  class=\"col-form-label text-dark\">Room Name:</label>\n              <input type=\"text\" onChange={(e) => handleEdit(e)}  value={formData.Name} class=\"form-control\" id=\"Name\"></input>\n            </div>\n            <button type=\"submit\">Update</button>\n          </form>\n          </Modal.Body>\n        </Modal>\n      </>\n    )\n  }\n  \nexport default UpdateRoom;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAC1C,SAASC,KAAK,EAAEC,MAAM,QAAQ,iBAAiB;AAAC;AAAA;AAEhD,MAAMC,UAAU,GAAG,QAAuC;EAAA;EAAA,IAAtC;IAACC,IAAI;IAAEC,MAAM;IAAEC,IAAI;IAAEC;EAAW,CAAC;EACjD,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;EACtD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC;;EAEjD;EACA,MAAMU,UAAU,GAAG,MAAMF,QAAQ,IAAI;IACjC,MAAMG,KAAK,CAAE,GAAEP,WAAY,SAAQI,QAAQ,CAACI,EAAG,EAAC,EAAE;MAC9CC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ;IACjC,CAAC,CAAC,CACDU,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC;EAExC,CAAC;;EAED;EACA,MAAMC,UAAU,GAAIC,CAAC,IAAK;IACxB,MAAM;MAAEV,EAAE;MAAEW;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAC9Bf,WAAW,CAAEgB,YAAY,KAAM;MAAE,GAAGA,YAAY;MAAE,CAACb,EAAE,GAAGW;IAAM,CAAC,CAAC,CAAC;EACnE,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAC9BA,CAAC,CAACK,cAAc,EAAE;IAClB,MAAMnB,QAAQ,GAAGoB,WAAW,EAAE;IAC9B,MAAMlB,UAAU,CAACF,QAAQ,CAAC;IAC1BP,MAAM,CAAC,gBAAgB,CAAC;IACxBE,WAAW,EAAE;EACjB,CAAC;EAED,MAAMyB,WAAW,GAAG,MAAM;IACtB,OAAOpB,QAAQ;EACnB,CAAC;EACD,oBACE;IAAA,uBACE,QAAC,KAAK;MAAC,IAAI,EAAEN,IAAK;MAAC,MAAM,EAAEC,WAAY;MAAA,uBACvC,QAAC,KAAK,CAAC,IAAI;QAAA,uBACX;UAAO,QAAQ,EAAGmB,CAAC,IAAKI,YAAY,CAACJ,CAAC,CAAE;UAAA,wBACpC;YAAK,KAAK,EAAC,YAAY;YAAA,wBACrB;cAAO,OAAO,EAAC,MAAM;cAAE,KAAK,EAAC,0BAA0B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAmB,eAC1E;cAAO,IAAI,EAAC,MAAM;cAAC,QAAQ,EAAGA,CAAC,IAAKD,UAAU,CAACC,CAAC,CAAE;cAAE,KAAK,EAAEd,QAAQ,CAACqB,IAAK;cAAC,KAAK,EAAC,cAAc;cAAC,EAAE,EAAC;YAAM;cAAA;cAAA;cAAA;YAAA,QAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QAC7G,eACN;YAAQ,IAAI,EAAC,QAAQ;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAgB;QAAA;UAAA;UAAA;UAAA;QAAA;MAChC;QAAA;QAAA;QAAA;MAAA;IACM;MAAA;MAAA;MAAA;IAAA;EACP,iBACP;AAEP,CAAC;AAAA,GAjDG9B,UAAU;AAAA,KAAVA,UAAU;AAmDhB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}